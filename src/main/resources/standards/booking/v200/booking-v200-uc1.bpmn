<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:color="http://www.omg.org/spec/BPMN/non-normative/color/1.0" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:modeler="http://camunda.org/schema/modeler/1.0" id="Definitions_1pspjuw" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="5.15.0" modeler:executionPlatform="Camunda Cloud" modeler:executionPlatformVersion="8.2.0">
  <bpmn:collaboration id="Booking_UC1">
    <bpmn:participant id="Participant_0i1hgob" name="Carrier" processRef="Process_112capa" />
    <bpmn:participant id="Participant_1ucs290" name="Shipper" processRef="Process_03xuylf" />
    <bpmn:messageFlow id="Flow_114poak" sourceRef="Activity_1q4aonj" targetRef="Event_0dm46dx" />
    <bpmn:messageFlow id="Flow_0kfj5pg" sourceRef="Activity_0ysrqnp" targetRef="Event_13msk1k" />
    <bpmn:messageFlow id="Flow_1uwszsi" sourceRef="Activity_0zeme9g" targetRef="Event_03n34e9" />
  </bpmn:collaboration>
  <bpmn:process id="Process_112capa" isExecutable="true">
    <bpmn:startEvent id="Event_0dm46dx">
      <bpmn:outgoing>Flow_18ylb5o</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0bhijnz" messageRef="Message_3r11am9" />
    </bpmn:startEvent>
    <bpmn:exclusiveGateway id="Gateway_1ffgwrg" name="Booking request valid?">
      <bpmn:incoming>Flow_0vhl170</bpmn:incoming>
      <bpmn:outgoing>Flow_01uhif2</bpmn:outgoing>
      <bpmn:outgoing>Flow_0cnrfys</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_0ysrqnp" name="Send booking request error reply">
      <bpmn:incoming>Flow_01uhif2</bpmn:incoming>
      <bpmn:outgoing>Flow_0rj791h</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_1o1ukw1" name="Validate booking request">
      <bpmn:incoming>Flow_18ylb5o</bpmn:incoming>
      <bpmn:outgoing>Flow_0vhl170</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="Event_181aexm" name="Booking request rejected">
      <bpmn:incoming>Flow_0rj791h</bpmn:incoming>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_15ew77w" errorRef="Error_0uzbk45" />
    </bpmn:endEvent>
    <bpmn:task id="Activity_0zeme9g" name="Send booking request accepted reply">
      <bpmn:incoming>Flow_0cnrfys</bpmn:incoming>
      <bpmn:outgoing>Flow_0kgtfv0</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_1u7ecla">
        <bpmn:targetRef>DataObjectReference_1wt9243</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:task>
    <bpmn:dataObjectReference id="DataObjectReference_1wt9243" name="Booking Status = RECEIVED" dataObjectRef="DataObject_1ln1sjj" />
    <bpmn:dataObject id="DataObject_1ln1sjj" />
    <bpmn:endEvent id="Event_0qpi3kh" name="Booking RECEIVED">
      <bpmn:incoming>Flow_0kgtfv0</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_18ylb5o" sourceRef="Event_0dm46dx" targetRef="Activity_1o1ukw1" />
    <bpmn:sequenceFlow id="Flow_0vhl170" sourceRef="Activity_1o1ukw1" targetRef="Gateway_1ffgwrg" />
    <bpmn:sequenceFlow id="Flow_01uhif2" name="No" sourceRef="Gateway_1ffgwrg" targetRef="Activity_0ysrqnp">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0cnrfys" name="Yes" sourceRef="Gateway_1ffgwrg" targetRef="Activity_0zeme9g">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0rj791h" sourceRef="Activity_0ysrqnp" targetRef="Event_181aexm" />
    <bpmn:sequenceFlow id="Flow_0kgtfv0" sourceRef="Activity_0zeme9g" targetRef="Event_0qpi3kh" />
  </bpmn:process>
  <bpmn:process id="Process_03xuylf" isExecutable="false">
    <bpmn:startEvent id="Event_1p7fc4a">
      <bpmn:outgoing>Flow_058hk6i</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_1q4aonj" name="Submit booking request">
      <bpmn:incoming>Flow_058hk6i</bpmn:incoming>
    </bpmn:task>
    <bpmn:startEvent id="Event_13msk1k">
      <bpmn:outgoing>Flow_0gytooz</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_17z9egs" messageRef="Message_2ueo2iu" />
    </bpmn:startEvent>
    <bpmn:startEvent id="Event_03n34e9" name="Carrier Booking Request Reference">
      <bpmn:outgoing>Flow_0jfr70z</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0b0b5de" messageRef="Message_26tdq8n" />
    </bpmn:startEvent>
    <bpmn:endEvent id="Event_160qcen" name="Booking RECEIVED">
      <bpmn:incoming>Flow_0jfr70z</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_19bfkdj" name="Booking request rejected">
      <bpmn:incoming>Flow_0gytooz</bpmn:incoming>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0tptlee" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_058hk6i" sourceRef="Event_1p7fc4a" targetRef="Activity_1q4aonj" />
    <bpmn:sequenceFlow id="Flow_0gytooz" sourceRef="Event_13msk1k" targetRef="Event_19bfkdj" />
    <bpmn:sequenceFlow id="Flow_0jfr70z" sourceRef="Event_03n34e9" targetRef="Event_160qcen" />
  </bpmn:process>
  <bpmn:message id="Message_3tr7q4u" name="Message_POST_ANs_response">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=POST_ANs_request" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_01ks253" name="POST_ANs_request" />
  <bpmn:message id="Message_26rkt3r" name="GET_ANs_request">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=OutOfScope" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_266so55" name="Message_266so55">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=Message_GET_ANs_too_early" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_0c8isjb" name="GET_ANs_error_response">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=GET_ANs_request" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_3o8acbt" name="GET_ANs_empty_response">
    <bpmn:extensionElements>
      <zeebe:subscription correlationKey="=GET_ANs_request" />
    </bpmn:extensionElements>
  </bpmn:message>
  <bpmn:message id="Message_340h7p4" name="Message_BookingRequestReceived" />
  <bpmn:message id="Message_2ueo2iu" name="Message_2ueo2iu" />
  <bpmn:message id="Message_3r11am9" name="Message_3r11am9" />
  <bpmn:error id="Error_0uzbk45" name="Error_1qfea1o" errorCode="Error_1qfea1o" />
  <bpmn:message id="Message_26tdq8n" name="Message_26tdq8n" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Booking_UC1">
      <bpmndi:BPMNShape id="Participant_0i1hgob_di" bpmnElement="Participant_0i1hgob" isHorizontal="true">
        <dc:Bounds x="129" y="80" width="1071" height="490" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1q5hmjh_di" bpmnElement="Event_0dm46dx" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="342" y="302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ffgwrg_di" bpmnElement="Gateway_1ffgwrg" isMarkerVisible="true">
        <dc:Bounds x="635" y="295" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="620" y="257.5" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ysrqnp_di" bpmnElement="Activity_0ysrqnp" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="610" y="440" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1o1ukw1_di" bpmnElement="Activity_1o1ukw1">
        <dc:Bounds x="460" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0aodbic_di" bpmnElement="Event_181aexm">
        <dc:Bounds x="802" y="462" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="780" y="505" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0zeme9g_di" bpmnElement="Activity_0zeme9g" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="900" y="280" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DataObjectReference_1wt9243_di" bpmnElement="DataObjectReference_1wt9243" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="894" y="135" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="874" y="98" width="75" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0qpi3kh_di" bpmnElement="Event_0qpi3kh">
        <dc:Bounds x="1092" y="302" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1084" y="345" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0vhl170_di" bpmnElement="Flow_0vhl170">
        <di:waypoint x="560" y="320" />
        <di:waypoint x="635" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01uhif2_di" bpmnElement="Flow_01uhif2">
        <di:waypoint x="660" y="345" />
        <di:waypoint x="660" y="440" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="663" y="386" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cnrfys_di" bpmnElement="Flow_0cnrfys">
        <di:waypoint x="685" y="320" />
        <di:waypoint x="900" y="320" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="785" y="302" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18ylb5o_di" bpmnElement="Flow_18ylb5o">
        <di:waypoint x="378" y="320" />
        <di:waypoint x="460" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rj791h_di" bpmnElement="Flow_0rj791h">
        <di:waypoint x="710" y="480" />
        <di:waypoint x="802" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kgtfv0_di" bpmnElement="Flow_0kgtfv0">
        <di:waypoint x="1000" y="320" />
        <di:waypoint x="1092" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BPMNShape_06w0nv1" bpmnElement="Participant_1ucs290" isHorizontal="true">
        <dc:Bounds x="129" y="570" width="1071" height="190" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_1opya4f" bpmnElement="Event_1p7fc4a">
        <dc:Bounds x="202" y="642" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="178" y="815" width="84" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_0x2oirt" bpmnElement="Activity_1q4aonj" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="310" y="620" width="100" height="80" />
        <bpmndi:BPMNLabel />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="BPMNShape_061k1g5" bpmnElement="Event_13msk1k" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="642" y="642" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1udvu2o_di" bpmnElement="Event_03n34e9" bioc:stroke="#0d4372" bioc:fill="#bbdefb" color:background-color="#bbdefb" color:border-color="#0d4372">
        <dc:Bounds x="932" y="642" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="912" y="685" width="77" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_160qcen_di" bpmnElement="Event_160qcen">
        <dc:Bounds x="1092" y="642" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1083" y="685" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1fc921b_di" bpmnElement="Event_19bfkdj">
        <dc:Bounds x="802" y="642" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="780" y="685" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="BPMNEdge_1a5vooi" bpmnElement="Flow_058hk6i">
        <di:waypoint x="238" y="660" />
        <di:waypoint x="310" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0gytooz_di" bpmnElement="Flow_0gytooz">
        <di:waypoint x="678" y="660" />
        <di:waypoint x="802" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0jfr70z_di" bpmnElement="Flow_0jfr70z">
        <di:waypoint x="968" y="660" />
        <di:waypoint x="1092" y="660" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_114poak_di" bpmnElement="Flow_114poak">
        <di:waypoint x="360" y="620" />
        <di:waypoint x="360" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kfj5pg_di" bpmnElement="Flow_0kfj5pg">
        <di:waypoint x="660" y="520" />
        <di:waypoint x="660" y="642" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1uwszsi_di" bpmnElement="Flow_1uwszsi">
        <di:waypoint x="950" y="360" />
        <di:waypoint x="950" y="642" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="731" y="720" width="77" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_1u7ecla_di" bpmnElement="DataOutputAssociation_1u7ecla">
        <di:waypoint x="910" y="280" />
        <di:waypoint x="910" y="185" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
